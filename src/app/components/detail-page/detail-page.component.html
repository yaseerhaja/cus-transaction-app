<section class="detail-page">
  <h1>Transactions</h1>
  <div class="container">
    <mat-card
      data-testid="unique-transaction"
      class="transaction-card" *ngIf="transactionIdDetail$ | async as transaction; else loading">
      <mat-card-header>
        <div mat-card-avatar class="transaction-avatar">
          <mat-icon>account_balance_wallet</mat-icon>
        </div>
        <mat-card-title>Transaction Details</mat-card-title>
        <mat-card-subtitle class="detail-page-card-subtitle">ID: {{ transaction.id }}</mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <section class="transaction-detail">
          <h3>Summary</h3>
          <p><strong>Amount:</strong> {{ transaction.amount | currency: transaction.currencyCode }}</p>
          <p><strong>Timestamp:</strong> {{ transaction.timestamp | date: 'medium' }}</p>
          <p><strong>Description:</strong> {{ transaction.description }}</p>
        </section>

        <section class="transaction-other-party">
          <h3>Other Party</h3>
          <p><strong>Name:</strong> {{ transaction.otherParty.name }}</p>
          <p><strong>IBAN:</strong> {{ transaction.otherParty.iban }}</p>
        </section>
      </mat-card-content>

      <mat-card-actions>
        <button mat-raised-button color="primary" (click)="onBack()">Go Back</button>
      </mat-card-actions>
    </mat-card>

    <ng-template #loading>
      <mat-card>
        <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
        <p>Loading transaction details...</p>
      </mat-card>
    </ng-template>
  </div>
</section>
